<!DOCTYPE html><html class="dark js-focus-visible antialiased [font-feature-settings:&#x27;ss01&#x27;]" lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/015a324af757cef1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/015a324af757cef1.css" data-n-g=""/><link rel="preload" href="/_next/static/css/5ca09d9210f45551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5ca09d9210f45551.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-76d02cbefae1782a.js" defer=""></script><script src="/_next/static/chunks/main-b92974553887b4ef.js" defer=""></script><script src="/_next/static/chunks/pages/_app-570524e99555cb72.js" defer=""></script><script src="/_next/static/chunks/c727088c-1d2ac074e11cb790.js" defer=""></script><script src="/_next/static/chunks/63-78b0e34dce6c1d75.js" defer=""></script><script src="/_next/static/chunks/pages/packages/%5Bslug%5D-1ca39776efeb81d6.js" defer=""></script><script src="/_next/static/dg0bt15i-87Awo1P2xEAp/_buildManifest.js" defer=""></script><script src="/_next/static/dg0bt15i-87Awo1P2xEAp/_ssgManifest.js" defer=""></script><script src="/_next/static/dg0bt15i-87Awo1P2xEAp/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap">@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G055Iu.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdiWJ.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45GE5g.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8WbcNcA.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G056IkUwCgblWmLWQ.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G056IqUwCgblWm.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdhWDTFiMF225Z2k.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdhWNTFiMF225.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45G07JIoWQeCbGWn.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45G04pIoWQeCbA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8Wbc9eiWPRl-uFV24.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8Wbc9dCWPRl-uFQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="prose prose-slate bg-white prose-lead:text-slate-500 prose-a:font-bold prose-a:no-underline prose-a:text-sky-500 max-w-full prose-a:shadow-[inset_0_17px_0_0_var(--tw-prose-background,#fff),inset_0_calc(-1*(var(--tw-prose-underline-size,4px)+2px))_0_0_var(--tw-prose-underline,theme(colors.sky.300))] hover:prose-a:[--tw-prose-underline-size:6px] dark:prose-invert dark:bg-slate-900 dark:text-slate-400 dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-lead:text-slate-400 dark:prose-a:text-sky-400 dark:prose-a:shadow-[var(--darkProseAShadow)] dark:hover:prose-a:[--tw-prose-underline-size:3px] dark:prose-hr:border-slate-800"><div id="__next"><div class="flex h-screen w-screen flex-col justify-between scroll-smooth"><header class="not-prose sticky top-0 z-50 flex items-center justify-between space-x-6 bg-white py-3 shadow-md shadow-slate-900/5 transition duration-500 dark:shadow-none sm:space-x-10 sm:py-4 md:py-5 dark:bg-transparent"><div class="content-container-width mx-auto py-3 flex items-center justify-between space-x-6"><a class="text-base font-bold text-green-600 hover:text-indigo-900 dark:text-green-300 dark:hover:text-indigo-300 sm:text-lg" href="/">CooperTS</a><nav class="md:text-md flex items-center space-x-5 text-sm sm:space-x-10 sm:text-sm"><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/about">About</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/guide">Guide</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/packages">Packages</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/examples">Examples</a><a class="group" href="https://github.com/execonline-inc/CooperTS"><span class="sr-only">CooperTS on GitHub</span><svg aria-hidden="true" viewBox="0 0 16 16" class="h-6 w-6 fill-slate-500 group-hover:fill-slate-700 dark:fill-slate-300 dark:group-hover:fill-white"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg></a></nav></div></header><main class="fixed-origin content-container-width relative mx-auto flex flex-col justify-center"><span><a aria-label="Go Back" href="/packages">‚Üê Go Back</a></span><p><strong>jsonous</strong>: <!-- -->Type safe JSON decoding for JavaScript<!-- --></p><div class="prose prose-slate w-full lg:max-w-none prose-headings:scroll-mt-28 prose-headings:font-display prose-headings:font-normal prose-lead:text-slate-500 prose-a:font-semibold prose-a:no-underline prose-a:shadow-[var(--proseAShadow)] hover:prose-a:[--tw-prose-underline-size:6px] prose-pre:rounded-xl prose-pre:bg-slate-900 prose-pre:shadow-lg prose-pre:p-3 md:prose-pre:p-5 prose-pre:text-xs md:prose-pre:text-sm lg:prose-pre:text-base dark:prose-invert dark:text-slate-400 dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-lead:text-slate-400 dark:prose-a:text-sky-400 dark:prose-a:shadow-[var(--darkProseAShadow)] dark:hover:prose-a:[--tw-prose-underline-size:6px] dark:prose-pre:bg-slate-800/60 dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-slate-300/10 dark:prose-hr:border-slate-800 lg:prose-headings:scroll-mt-[8.5rem]"><h1 id="jsonous">jsonous</h1>
<p><a href="https://github.com/semantic-release/semantic-release"><img src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" alt="semantic-release"></a></p>
<p>If you&#39;re building a web application, you&#39;re eventually going to need a reliable
way to convert JSON into type that you can use. <code>JSON.parse</code> will only get you
so far.</p>
<p>A better solution allows you to verify the structure of the source data while
converting it into the types you need to work with. It handles variations in
content structure. In a typed environment, it preserves your types so you don&#39;t
have to pass <code>any</code> types around. Errors are handled gracefully using a Result
type.</p>
<p>This library, heavily inspired by Elm&#39;s <a href="http://package.elm-lang.org/packages/elm-lang/core/latest/Json-Decode">JSON Decoder</a>, is just
such a solution.</p>
<h1 id="install">install</h1>
<blockquote>
<p>npm install --save jsonous</p>
</blockquote>
<blockquote>
<p>yarn add jsonous</p>
</blockquote>
<h1 id="usage">usage</h1>
<h2 id="primitives">primitives</h2>
<p>There are several decoders for handling JSON primitives; strings, numbers,
booleans, and arrays (more on objects later)</p>
<pre><code class="language-typescript"><span class="hljs-built_in">string</span>.<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;&quot;foo&quot;&#x27;</span>); <span class="hljs-comment">// --&gt; Ok(&quot;foo&quot;)</span>
<span class="hljs-built_in">string</span>.<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;42&#x27;</span>); <span class="hljs-comment">// --&gt; Err(&quot;42 is not a string&quot;)</span>

<span class="hljs-built_in">number</span>.<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;42&#x27;</span>); <span class="hljs-comment">// --&gt; Ok(42)</span>
<span class="hljs-built_in">number</span>.<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;&quot;foo&quot;&#x27;</span>); <span class="hljs-comment">// --&gt; Err(&quot;foo is not a number&quot;)</span>

<span class="hljs-built_in">boolean</span>.<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;true&#x27;</span>); <span class="hljs-comment">// --&gt; Ok(true)</span>
<span class="hljs-built_in">boolean</span>.<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;&quot;foo&quot;&#x27;</span>); <span class="hljs-comment">// --&gt; Err(&quot;foo is not a boolean&quot;)</span>
</code></pre>
<h2 id="arrays">arrays</h2>
<p>The array primitive applies another decoder to an array of values.</p>
<pre><code class="language-typescript"><span class="hljs-title function_">array</span>(<span class="hljs-built_in">string</span>).<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;[&quot;foo&quot;, &quot;bar&quot;]&#x27;</span>); <span class="hljs-comment">// --&gt; Ok([&quot;foo&quot;, &quot;bar&quot;])</span>
<span class="hljs-title function_">array</span>(<span class="hljs-built_in">string</span>).<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;[&quot;foo&quot;, 42]&#x27;</span>); <span class="hljs-comment">// --&gt; Err(&quot;42 is not a string&quot;)</span>
</code></pre>
<h2 id="objects">objects</h2>
<p>The <code>field</code> and <code>at</code> decoders are used to extract values from objects.</p>
<pre><code class="language-typescript"><span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;bar&#x27;</span>, <span class="hljs-built_in">string</span>).<span class="hljs-title function_">decodeAny</span>({ <span class="hljs-attr">bar</span>: <span class="hljs-string">&#x27;baz&#x27;</span> }); <span class="hljs-comment">// --&gt; Ok(&#x27;baz&#x27;)</span>
<span class="hljs-title function_">at</span>([<span class="hljs-string">&#x27;foo&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;bar&#x27;</span>], <span class="hljs-built_in">number</span>).<span class="hljs-title function_">decodeAny</span>({ <span class="hljs-attr">foo</span>: [{ <span class="hljs-attr">bar</span>: <span class="hljs-number">42</span> }] }); <span class="hljs-comment">// --&gt; Ok(42)</span>
</code></pre>
<p>Object decoders can be chained together to build more complex data structures.</p>
<pre><code class="language-typescript"><span class="hljs-comment">// prettier-ignore</span>
<span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;userId&#x27;</span>, <span class="hljs-built_in">number</span>).<span class="hljs-title function_">andThen</span>(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span>
<span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;emailAddress&#x27;</span>, <span class="hljs-built_in">string</span>).<span class="hljs-title function_">andThen</span>(<span class="hljs-function"><span class="hljs-params">email</span> =&gt;</span>
<span class="hljs-title function_">succeed</span>({ id, email })))
.<span class="hljs-title function_">decodeAny</span>({ <span class="hljs-attr">userId</span>: <span class="hljs-number">213</span>, <span class="hljs-attr">emailAddress</span>: <span class="hljs-string">&#x27;foo@example.com&#x27;</span> })
<span class="hljs-comment">// --&gt; Ok({ id: 213, email: &#x27;foo@example.com&#x27;})</span>
</code></pre>
<p>Of course, your code editor may try to reformat this code.</p>
<pre><code class="language-typescript"><span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;userId&#x27;</span>, <span class="hljs-built_in">number</span>)
  .<span class="hljs-title function_">andThen</span>(<span class="hljs-function">(<span class="hljs-params">id</span>) =&gt;</span>
    <span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;emailAddress&#x27;</span>, <span class="hljs-built_in">string</span>).<span class="hljs-title function_">andThen</span>(<span class="hljs-function">(<span class="hljs-params">email</span>) =&gt;</span> <span class="hljs-title function_">succeed</span>({ id, email }))
  )
  .<span class="hljs-title function_">decodeAny</span>({ <span class="hljs-attr">userId</span>: <span class="hljs-number">213</span>, <span class="hljs-attr">emailAddress</span>: <span class="hljs-string">&#x27;foo@example.com&#x27;</span> });
<span class="hljs-comment">// --&gt; Ok({ id: 213, email: &#x27;foo@example.com&#x27;})</span>
</code></pre>
<p>For an object of any moderate complexity, this nesting is indistinguishable from
callback hell.</p>
<p>To combat this, decoders have a method named <code>assign</code>. It enacapsulates this
pattern of building objects such that objects can be built incrementally, without
nesting and without losing type safety.</p>
<p>The previous example would look like this using <code>assign</code>:</p>
<pre><code class="language-typescript"><span class="hljs-title function_">succeed</span>({})
  .<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;userId&#x27;</span>, <span class="hljs-built_in">number</span>))
  .<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;email&#x27;</span>, <span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;emailAddress&#x27;</span>, <span class="hljs-built_in">string</span>))
  .<span class="hljs-title function_">decodeAny</span>({ <span class="hljs-attr">userId</span>: <span class="hljs-number">213</span>, <span class="hljs-attr">emailAddress</span>: <span class="hljs-string">&#x27;foo@example.com&#x27;</span> });
<span class="hljs-comment">// --&gt; Ok({ id: 213, email: &#x27;foo@example.com&#x27; })</span>
</code></pre>
<p>The best strategy for handling object construction with decoders
is to compose complex decoders from smaller, simpler decoders.</p>
<pre><code class="language-typescript"><span class="hljs-title function_">succeed</span>({})
  .<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-title function_">field</span>(<span class="hljs-string">&#x27;user&#x27;</span>, userDecoder))
  .<span class="hljs-title function_">assign</span>(<span class="hljs-string">&#x27;courses&#x27;</span>, <span class="hljs-title function_">at</span>([<span class="hljs-string">&#x27;student&#x27;</span>, <span class="hljs-string">&#x27;courses&#x27;</span>], <span class="hljs-title function_">array</span>(courseDecoder)))
  .<span class="hljs-title function_">decodeJson</span>(<span class="hljs-string">&#x27;... some json ... &#x27;</span>)

<span class="hljs-keyword">const</span> userDecoder = <span class="hljs-comment">//...</span>
<span class="hljs-keyword">const</span> courseDecoder = <span class="hljs-comment">//...</span>
</code></pre>
<h1 id="docs">docs</h1>
<p><a href="https://kofno.github.io/jsonous">API</a></p>
</div></main><div class="fixed bottom-0 right-0 z-[10000] flex h-auto w-auto items-center justify-center p-1  text-sm font-bold text-white dark:text-slate-900 rounded-full bg-slate-800 sm:bg-red-900 md:bg-blue-800 lg:bg-green-800 xl:bg-amber-600"><div class="inline-flex sm:hidden">xs (default)</div><div class="hidden sm:inline-flex md:hidden">SM</div><div class="hidden md:inline-flex lg:hidden">MD</div><div class="hidden lg:inline-flex xl:hidden">LG</div><div class="hidden xl:inline-flex">XL</div></div><footer class="not-prose sticky top-0 z-50 
        flex flex-wrap items-center justify-between
        bg-white
        py-5 px-4 shadow-md
        shadow-slate-900/5 
        dark:bg-slate-900/95 dark:shadow-none
        sm:px-6 lg:px-8" aria-label="footer"><p>¬© <!-- -->2022 <!-- --><a href="https://www.execonline.com/" target="_blank" rel="noopener noreferrer">ExecOnline</a></p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"packageData":{"slug":"jsonous","metadata":{"name":"jsonous","description":"Type safe JSON decoding for JavaScript"},"markdown":{"content":"# jsonous\n\n[![semantic-release](https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg)](https://github.com/semantic-release/semantic-release)\n\nIf you're building a web application, you're eventually going to need a reliable\nway to convert JSON into type that you can use. `JSON.parse` will only get you\nso far.\n\nA better solution allows you to verify the structure of the source data while\nconverting it into the types you need to work with. It handles variations in\ncontent structure. In a typed environment, it preserves your types so you don't\nhave to pass `any` types around. Errors are handled gracefully using a Result\ntype.\n\nThis library, heavily inspired by Elm's [JSON Decoder](http://package.elm-lang.org/packages/elm-lang/core/latest/Json-Decode), is just\nsuch a solution.\n\n# install\n\n\u003e npm install --save jsonous\n\n\u003e yarn add jsonous\n\n# usage\n\n## primitives\n\nThere are several decoders for handling JSON primitives; strings, numbers,\nbooleans, and arrays (more on objects later)\n\n```typescript\nstring.decodeJson('\"foo\"'); // --\u003e Ok(\"foo\")\nstring.decodeJson('42'); // --\u003e Err(\"42 is not a string\")\n\nnumber.decodeJson('42'); // --\u003e Ok(42)\nnumber.decodeJson('\"foo\"'); // --\u003e Err(\"foo is not a number\")\n\nboolean.decodeJson('true'); // --\u003e Ok(true)\nboolean.decodeJson('\"foo\"'); // --\u003e Err(\"foo is not a boolean\")\n```\n\n## arrays\n\nThe array primitive applies another decoder to an array of values.\n\n```typescript\narray(string).decodeJson('[\"foo\", \"bar\"]'); // --\u003e Ok([\"foo\", \"bar\"])\narray(string).decodeJson('[\"foo\", 42]'); // --\u003e Err(\"42 is not a string\")\n```\n\n## objects\n\nThe `field` and `at` decoders are used to extract values from objects.\n\n```typescript\nfield('bar', string).decodeAny({ bar: 'baz' }); // --\u003e Ok('baz')\nat(['foo', 0, 'bar'], number).decodeAny({ foo: [{ bar: 42 }] }); // --\u003e Ok(42)\n```\n\nObject decoders can be chained together to build more complex data structures.\n\n```typescript\n// prettier-ignore\nfield('userId', number).andThen(id =\u003e\nfield('emailAddress', string).andThen(email =\u003e\nsucceed({ id, email })))\n.decodeAny({ userId: 213, emailAddress: 'foo@example.com' })\n// --\u003e Ok({ id: 213, email: 'foo@example.com'})\n```\n\nOf course, your code editor may try to reformat this code.\n\n```typescript\nfield('userId', number)\n  .andThen((id) =\u003e\n    field('emailAddress', string).andThen((email) =\u003e succeed({ id, email }))\n  )\n  .decodeAny({ userId: 213, emailAddress: 'foo@example.com' });\n// --\u003e Ok({ id: 213, email: 'foo@example.com'})\n```\n\nFor an object of any moderate complexity, this nesting is indistinguishable from\ncallback hell.\n\nTo combat this, decoders have a method named `assign`. It enacapsulates this\npattern of building objects such that objects can be built incrementally, without\nnesting and without losing type safety.\n\nThe previous example would look like this using `assign`:\n\n```typescript\nsucceed({})\n  .assign('id', field('userId', number))\n  .assign('email', field('emailAddress', string))\n  .decodeAny({ userId: 213, emailAddress: 'foo@example.com' });\n// --\u003e Ok({ id: 213, email: 'foo@example.com' })\n```\n\nThe best strategy for handling object construction with decoders\nis to compose complex decoders from smaller, simpler decoders.\n\n```typescript\nsucceed({})\n  .assign('user', field('user', userDecoder))\n  .assign('courses', at(['student', 'courses'], array(courseDecoder)))\n  .decodeJson('... some json ... ')\n\nconst userDecoder = //...\nconst courseDecoder = //...\n```\n\n# docs\n\n[API](https://kofno.github.io/jsonous)\n"}},"navTree":[{"title":"Guide","links":[{"title":"Maybe Adapter","href":"/guide/maybe"},{"title":"CooperTS - Practical Patterns","href":"/guide/practical-patterns"},{"title":"Translations Package","href":"/guide/translations"}]},{"title":"Packages","links":[{"title":"ajaxian","href":"/packages/ajaxian"},{"title":"ajaxios","href":"/packages/ajaxios"},{"title":"@kofno/cute","href":"/packages/cute"},{"title":"@kofno/gaia","href":"/packages/gaia"},{"title":"jsonous","href":"/packages/jsonous"},{"title":"maybeasy","href":"/packages/maybeasy"},{"title":"nonempty-list","href":"/packages/nonempty-list"},{"title":"@kofno/piper","href":"/packages/piper"},{"title":"resulty","href":"/packages/resulty"},{"title":"@kofno/stack-ts","href":"/packages/stack-ts"},{"title":"taskarian","href":"/packages/taskarian"},{"title":"@execonline-inc/appy","href":"/packages/appy"},{"title":"@execonline-inc/collections","href":"/packages/collections"},{"title":"@execonline-inc/decoders","href":"/packages/decoders"},{"title":"@execonline-inc/dom","href":"/packages/dom"},{"title":"@execonline-inc/environment","href":"/packages/environment"},{"title":"@execonline-inc/error-handling","href":"/packages/error-handling"},{"title":"@execonline-inc/logging","href":"/packages/logging"},{"title":"@execonline-inc/maybe-adapter","href":"/packages/maybe-adapter"},{"title":"@execonline-inc/numbers","href":"/packages/numbers"},{"title":"@execonline-inc/resource","href":"/packages/resource"},{"title":"@execonline-inc/strings","href":"/packages/strings"},{"title":"@execonline-inc/time","href":"/packages/time"},{"title":"@execonline-inc/time-distance","href":"/packages/time-distance"},{"title":"@execonline-inc/translations","href":"/packages/translations"},{"title":"@execonline-inc/url","href":"/packages/url"}]}]},"__N_SSG":true},"page":"/packages/[slug]","query":{"slug":"jsonous"},"buildId":"dg0bt15i-87Awo1P2xEAp","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>