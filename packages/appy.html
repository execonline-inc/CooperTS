<!DOCTYPE html><html class="dark js-focus-visible antialiased [font-feature-settings:&#x27;ss01&#x27;]" lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/c3c652cee5f0d3cc.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c3c652cee5f0d3cc.css" data-n-g=""/><link rel="preload" href="/_next/static/css/5ca09d9210f45551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5ca09d9210f45551.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5752944655d749a0.js" defer=""></script><script src="/_next/static/chunks/framework-76d02cbefae1782a.js" defer=""></script><script src="/_next/static/chunks/main-b92974553887b4ef.js" defer=""></script><script src="/_next/static/chunks/pages/_app-145ad69fe238df12.js" defer=""></script><script src="/_next/static/chunks/c727088c-1d2ac074e11cb790.js" defer=""></script><script src="/_next/static/chunks/63-270982b5a31b9a50.js" defer=""></script><script src="/_next/static/chunks/pages/packages/%5Bslug%5D-1ca39776efeb81d6.js" defer=""></script><script src="/_next/static/9r2BuDIN6ARW3NrHamT86/_buildManifest.js" defer=""></script><script src="/_next/static/9r2BuDIN6ARW3NrHamT86/_ssgManifest.js" defer=""></script><script src="/_next/static/9r2BuDIN6ARW3NrHamT86/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap">@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G055Iu.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdiWJ.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45GE5g.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8WbcNcA.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G056IkUwCgblWmLWQ.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G056IqUwCgblWm.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdhWDTFiMF225Z2k.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdhWNTFiMF225.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45G07JIoWQeCbGWn.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45G04pIoWQeCbA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8Wbc9eiWPRl-uFV24.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v10/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8Wbc9dCWPRl-uFQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="prose prose-slate bg-white prose-lead:text-slate-500 prose-a:font-bold prose-a:no-underline prose-a:text-sky-500 max-w-full prose-a:shadow-[inset_0_17px_0_0_var(--tw-prose-background,#fff),inset_0_calc(-1*(var(--tw-prose-underline-size,4px)+2px))_0_0_var(--tw-prose-underline,theme(colors.sky.300))] hover:prose-a:[--tw-prose-underline-size:6px] dark:prose-invert dark:bg-slate-900 dark:text-slate-400 dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-lead:text-slate-400 dark:prose-a:text-sky-400 dark:prose-a:shadow-[var(--darkProseAShadow)] dark:hover:prose-a:[--tw-prose-underline-size:3px] dark:prose-hr:border-slate-800"><div id="__next"><div class="flex h-screen w-screen flex-col justify-between scroll-smooth"><header class="not-prose sticky top-0 z-50 flex items-center justify-between space-x-6 bg-white py-3 shadow-md shadow-slate-900/5 transition duration-500 dark:shadow-none sm:space-x-10 sm:py-4 md:py-5 dark:bg-transparent"><div class="content-container-width mx-auto py-3 flex items-center justify-between space-x-6"><a class="text-base font-bold text-green-600 hover:text-indigo-900 dark:text-green-300 dark:hover:text-indigo-300 sm:text-lg" href="/">CooperTS</a><nav class="md:text-md flex items-center space-x-5 text-sm sm:space-x-10 sm:text-sm"><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/about">About</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/guide">Guide</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/packages">Packages</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/examples">Examples</a><a class="group" href="https://github.com/execonline-inc/CooperTS"><span class="sr-only">CooperTS on GitHub</span><svg aria-hidden="true" viewBox="0 0 16 16" class="h-6 w-6 fill-slate-500 group-hover:fill-slate-700 dark:fill-slate-300 dark:group-hover:fill-white"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg></a></nav></div></header><main class="fixed-origin content-container-width relative mx-auto flex flex-col justify-center"><span><a aria-label="Go Back" href="/packages">← Go Back</a></span><p><strong>@execonline-inc/appy</strong>: <!-- -->Call api patterns around ajaxian http tasks<!-- --></p><div class="prose prose-slate w-full lg:max-w-none prose-headings:scroll-mt-28 prose-headings:font-display prose-headings:font-normal prose-lead:text-slate-500 prose-a:font-semibold prose-a:no-underline prose-a:shadow-[var(--proseAShadow)] hover:prose-a:[--tw-prose-underline-size:6px] prose-pre:rounded-xl prose-pre:bg-slate-900 prose-pre:shadow-lg prose-pre:p-3 md:prose-pre:p-5 prose-pre:text-xs md:prose-pre:text-sm lg:prose-pre:text-base dark:prose-invert dark:text-slate-400 dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-lead:text-slate-400 dark:prose-a:text-sky-400 dark:prose-a:shadow-[var(--darkProseAShadow)] dark:hover:prose-a:[--tw-prose-underline-size:6px] dark:prose-pre:bg-slate-800/60 dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-slate-300/10 dark:prose-hr:border-slate-800 lg:prose-headings:scroll-mt-[8.5rem]"><h1 id="appy"><code>appy</code></h1>
<p>The <code>appy</code> package provides functions to interface with HATEOAS API endpoints.</p>
<h2 id="types">Types</h2>
<h3 id="missingapplicationid"><code>MissingApplicationId</code></h3>
<pre><code class="language-ts"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">MissingApplicationId</span> {
  <span class="hljs-attr">kind</span>: <span class="hljs-string">&#x27;missing-application-id&#x27;</span>;
}
</code></pre>
<h3 id="appyerror"><code>AppyError</code></h3>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">MissingApplicationId</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">HttpError</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;ajaxian&#x27;</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">AppyError</span> = <span class="hljs-title class_">HttpError</span> | <span class="hljs-title class_">MissingApplicationId</span>;
</code></pre>
<h3 id="hreferenceable"><code>HReferenceable</code></h3>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">HttpError</span>, <span class="hljs-title class_">Method</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;ajaxian&#x27;</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">HReferenceable</span> {
  <span class="hljs-attr">href</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">method</span>: <span class="hljs-title class_">Method</span>;
}
</code></pre>
<h2 id="functions">Functions</h2>
<h3 id="request"><code>request</code></h3>
<p>This curried function creates an HTTP request <code>Task</code> using a given authentication token, HATEOAS link, and payload data, and decodes the response using the given decoder.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, <span class="hljs-title class_">HReferenceable</span>, request } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Decoder</span>, { succeed } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;jsonous&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span> };
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Response</span> {}
<span class="hljs-keyword">const</span> <span class="hljs-attr">decoder</span>: <span class="hljs-title class_">Decoder</span>&lt;<span class="hljs-title class_">Response</span>&gt; = <span class="hljs-title function_">succeed</span>({});
<span class="hljs-keyword">const</span> payload = {};

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-title class_">RequestBuilder</span>&lt;<span class="hljs-title class_">Response</span>&gt;&gt; = <span class="hljs-title function_">request</span>(token)(link, decoder, payload);
</code></pre>
<h3 id="callapi"><code>callApi</code></h3>
<p>Similar to <code>request</code>, this function creates an HTTP request <code>Task</code>. The significant differences are that a given <code>Task</code> is executed when the response indicates that the authentication is invalid, and the ultimate return value is an object of the decoded type itself, not one wrapped in a <code>RequestBuilder</code> object.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, callApi, <span class="hljs-title class_">HReferenceable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Decoder</span>, { succeed } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;jsonous&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-attr">whenUnauthenticated</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-built_in">never</span>, <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>(<span class="hljs-function">() =&gt;</span> noop);
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Response</span> {}
<span class="hljs-keyword">const</span> <span class="hljs-attr">decoder</span>: <span class="hljs-title class_">Decoder</span>&lt;<span class="hljs-title class_">Response</span>&gt; = <span class="hljs-title function_">succeed</span>({});
<span class="hljs-keyword">const</span> payload = {};

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-title class_">Response</span>&gt; = <span class="hljs-title function_">callApi</span>(token)(whenUnauthenticated)(decoder, payload)(link);
</code></pre>
<h3 id="posttoapi"><code>postToApi</code></h3>
<p>Similar to <code>callApi</code>, this function creates an HTTP request <code>Task</code>, but it&#39;s hardcoded for the <code>post</code> verb and does not decode the response.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, <span class="hljs-title class_">HReferenceable</span>, postToApi } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;post&#x27;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-attr">whenUnauthenticated</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-built_in">never</span>, <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>(<span class="hljs-function">() =&gt;</span> noop);
<span class="hljs-keyword">const</span> payload = {};

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">postToApi</span>(token)(whenUnauthenticated)(payload)(link);
</code></pre>
<h3 id="puttoapi"><code>putToApi</code></h3>
<p>Similar to <code>callApi</code>, this function creates an HTTP request <code>Task</code>, but it&#39;s hardcoded for the <code>put</code> verb and does not decode the response.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, <span class="hljs-title class_">HReferenceable</span>, putToApi } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;put&#x27;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-attr">whenUnauthenticated</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-built_in">never</span>, <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>(<span class="hljs-function">() =&gt;</span> noop);
<span class="hljs-keyword">const</span> payload = {};

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">putToApi</span>(token)(whenUnauthenticated)(payload)(link);
</code></pre>
<h3 id="deletetoapi"><code>deleteToApi</code></h3>
<p>Similar to <code>callApi</code>, this function creates an HTTP request <code>Task</code>, but it&#39;s hardcoded for the <code>delete</code> verb, does not decode the response, and does not accept request payload data.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, deleteToApi, <span class="hljs-title class_">HReferenceable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;delete&#x27;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-attr">whenUnauthenticated</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-built_in">never</span>, <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>(<span class="hljs-function">() =&gt;</span> noop);

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">deleteToApi</span>(token)(whenUnauthenticated)(link);
</code></pre>
<h3 id="getfromapi"><code>getFromApi</code></h3>
<p>Similar to <code>callApi</code>, this function creates an HTTP request <code>Task</code>, but it&#39;s hardcoded for the <code>get</code> verb and does not decode the response.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, getFromApi, <span class="hljs-title class_">HReferenceable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-attr">whenUnauthenticated</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-built_in">never</span>, <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>(<span class="hljs-function">() =&gt;</span> noop);
<span class="hljs-keyword">const</span> payload = {};

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">getFromApi</span>(token)(whenUnauthenticated)(payload)(link);
</code></pre>
<h3 id="getrespfromapi"><code>getRespFromApi</code></h3>
<p>Similar to <code>callApi</code>, this function creates an HTTP request <code>Task</code>, but it&#39;s hardcoded for the <code>get</code> verb, does not decode the response, and returns the entire successful response object rather than just its body.</p>
<pre><code class="language-ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">AppyError</span>, getRespFromApi, <span class="hljs-title class_">HReferenceable</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@execonline-inc/appy&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Maybe</span>, just } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;maybeasy&#x27;</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Task</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;taskarian&#x27;</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">token</span>: <span class="hljs-title class_">Maybe</span>&lt;<span class="hljs-built_in">string</span>&gt; = <span class="hljs-title function_">just</span>(<span class="hljs-string">&#x27;3ad1afde-6d9f-4e29-97d4-4396f891267f&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-attr">link</span>: <span class="hljs-title class_">HReferenceable</span> = { <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;https://example.com/&#x27;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;get&#x27;</span> };
<span class="hljs-keyword">const</span> <span class="hljs-attr">whenUnauthenticated</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-built_in">never</span>, <span class="hljs-built_in">void</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Task</span>(<span class="hljs-function">() =&gt;</span> noop);
<span class="hljs-keyword">const</span> payload = {};

<span class="hljs-keyword">const</span> <span class="hljs-attr">req</span>: <span class="hljs-title class_">Task</span>&lt;<span class="hljs-title class_">AppyError</span>, <span class="hljs-title class_">HttpSuccess</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; = <span class="hljs-title function_">getRespFromApi</span>(token)(whenUnauthenticated)(
  payload
)(link);
</code></pre>
</div></main><div class="fixed bottom-0 right-0 z-[10000] flex h-auto w-auto items-center justify-center p-1  text-sm font-bold text-white dark:text-slate-900 rounded-full bg-slate-800 sm:bg-red-900 md:bg-blue-800 lg:bg-green-800 xl:bg-amber-600"><div class="inline-flex sm:hidden">xs (default)</div><div class="hidden sm:inline-flex md:hidden">SM</div><div class="hidden md:inline-flex lg:hidden">MD</div><div class="hidden lg:inline-flex xl:hidden">LG</div><div class="hidden xl:inline-flex">XL</div></div><footer class="not-prose sticky top-0 z-50 
        flex flex-wrap items-center justify-between
        bg-white
        py-5 px-4 shadow-md
        shadow-slate-900/5 
        dark:bg-slate-900/95 dark:shadow-none
        sm:px-6 lg:px-8" aria-label="footer"><p>© <!-- -->2022 <!-- --><a href="https://www.execonline.com/" target="_blank" rel="noopener noreferrer">ExecOnline</a></p></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"packageData":{"slug":"appy","metadata":{"name":"@execonline-inc/appy","description":"Call api patterns around ajaxian http tasks"},"markdown":{"content":"# `appy`\n\nThe `appy` package provides functions to interface with HATEOAS API endpoints.\n\n## Types\n\n### `MissingApplicationId`\n\n```ts\ninterface MissingApplicationId {\n  kind: 'missing-application-id';\n}\n```\n\n### `AppyError`\n\n```ts\nimport { MissingApplicationId } from '@execonline-inc/appy';\nimport { HttpError } from 'ajaxian';\n\ntype AppyError = HttpError | MissingApplicationId;\n```\n\n### `HReferenceable`\n\n```ts\nimport { HttpError, Method } from 'ajaxian';\n\ninterface HReferenceable {\n  href: string;\n  method: Method;\n}\n```\n\n## Functions\n\n### `request`\n\nThis curried function creates an HTTP request `Task` using a given authentication token, HATEOAS link, and payload data, and decodes the response using the given decoder.\n\n```ts\nimport { AppyError, HReferenceable, request } from '@execonline-inc/appy';\nimport Decoder, { succeed } from 'jsonous';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'get' };\ninterface Response {}\nconst decoder: Decoder\u003cResponse\u003e = succeed({});\nconst payload = {};\n\nconst req: Task\u003cAppyError, RequestBuilder\u003cResponse\u003e\u003e = request(token)(link, decoder, payload);\n```\n\n### `callApi`\n\nSimilar to `request`, this function creates an HTTP request `Task`. The significant differences are that a given `Task` is executed when the response indicates that the authentication is invalid, and the ultimate return value is an object of the decoded type itself, not one wrapped in a `RequestBuilder` object.\n\n```ts\nimport { AppyError, callApi, HReferenceable } from '@execonline-inc/appy';\nimport Decoder, { succeed } from 'jsonous';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'get' };\nconst whenUnauthenticated: Task\u003cnever, void\u003e = new Task(() =\u003e noop);\ninterface Response {}\nconst decoder: Decoder\u003cResponse\u003e = succeed({});\nconst payload = {};\n\nconst req: Task\u003cAppyError, Response\u003e = callApi(token)(whenUnauthenticated)(decoder, payload)(link);\n```\n\n### `postToApi`\n\nSimilar to `callApi`, this function creates an HTTP request `Task`, but it's hardcoded for the `post` verb and does not decode the response.\n\n```ts\nimport { AppyError, HReferenceable, postToApi } from '@execonline-inc/appy';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'post' };\nconst whenUnauthenticated: Task\u003cnever, void\u003e = new Task(() =\u003e noop);\nconst payload = {};\n\nconst req: Task\u003cAppyError, string\u003e = postToApi(token)(whenUnauthenticated)(payload)(link);\n```\n\n### `putToApi`\n\nSimilar to `callApi`, this function creates an HTTP request `Task`, but it's hardcoded for the `put` verb and does not decode the response.\n\n```ts\nimport { AppyError, HReferenceable, putToApi } from '@execonline-inc/appy';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'put' };\nconst whenUnauthenticated: Task\u003cnever, void\u003e = new Task(() =\u003e noop);\nconst payload = {};\n\nconst req: Task\u003cAppyError, string\u003e = putToApi(token)(whenUnauthenticated)(payload)(link);\n```\n\n### `deleteToApi`\n\nSimilar to `callApi`, this function creates an HTTP request `Task`, but it's hardcoded for the `delete` verb, does not decode the response, and does not accept request payload data.\n\n```ts\nimport { AppyError, deleteToApi, HReferenceable } from '@execonline-inc/appy';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'delete' };\nconst whenUnauthenticated: Task\u003cnever, void\u003e = new Task(() =\u003e noop);\n\nconst req: Task\u003cAppyError, string\u003e = deleteToApi(token)(whenUnauthenticated)(link);\n```\n\n### `getFromApi`\n\nSimilar to `callApi`, this function creates an HTTP request `Task`, but it's hardcoded for the `get` verb and does not decode the response.\n\n```ts\nimport { AppyError, getFromApi, HReferenceable } from '@execonline-inc/appy';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'get' };\nconst whenUnauthenticated: Task\u003cnever, void\u003e = new Task(() =\u003e noop);\nconst payload = {};\n\nconst req: Task\u003cAppyError, string\u003e = getFromApi(token)(whenUnauthenticated)(payload)(link);\n```\n\n### `getRespFromApi`\n\nSimilar to `callApi`, this function creates an HTTP request `Task`, but it's hardcoded for the `get` verb, does not decode the response, and returns the entire successful response object rather than just its body.\n\n```ts\nimport { AppyError, getRespFromApi, HReferenceable } from '@execonline-inc/appy';\nimport { Maybe, just } from 'maybeasy';\nimport Task from 'taskarian';\n\nconst token: Maybe\u003cstring\u003e = just('3ad1afde-6d9f-4e29-97d4-4396f891267f');\nconst link: HReferenceable = { href: 'https://example.com/', method: 'get' };\nconst whenUnauthenticated: Task\u003cnever, void\u003e = new Task(() =\u003e noop);\nconst payload = {};\n\nconst req: Task\u003cAppyError, HttpSuccess\u003cstring\u003e\u003e = getRespFromApi(token)(whenUnauthenticated)(\n  payload\n)(link);\n```\n"}},"navTree":[{"title":"Guide","links":[{"title":"Maybe Adapter","href":"/guide/maybe"},{"title":"CooperTS - Practical Patterns","href":"/guide/practical-patterns"},{"title":"Translations Package","href":"/guide/translations"}]},{"title":"Packages","links":[{"title":"ajaxian","href":"/packages/ajaxian"},{"title":"ajaxios","href":"/packages/ajaxios"},{"title":"@kofno/cute","href":"/packages/cute"},{"title":"@kofno/gaia","href":"/packages/gaia"},{"title":"jsonous","href":"/packages/jsonous"},{"title":"maybeasy","href":"/packages/maybeasy"},{"title":"nonempty-list","href":"/packages/nonempty-list"},{"title":"@kofno/piper","href":"/packages/piper"},{"title":"resulty","href":"/packages/resulty"},{"title":"@kofno/stack-ts","href":"/packages/stack-ts"},{"title":"taskarian","href":"/packages/taskarian"},{"title":"@execonline-inc/appy","href":"/packages/appy"},{"title":"@execonline-inc/collections","href":"/packages/collections"},{"title":"@execonline-inc/decoders","href":"/packages/decoders"},{"title":"@execonline-inc/dom","href":"/packages/dom"},{"title":"@execonline-inc/environment","href":"/packages/environment"},{"title":"@execonline-inc/error-handling","href":"/packages/error-handling"},{"title":"@execonline-inc/logging","href":"/packages/logging"},{"title":"@execonline-inc/maybe-adapter","href":"/packages/maybe-adapter"},{"title":"@execonline-inc/numbers","href":"/packages/numbers"},{"title":"@execonline-inc/resource","href":"/packages/resource"},{"title":"@execonline-inc/strings","href":"/packages/strings"},{"title":"@execonline-inc/time","href":"/packages/time"},{"title":"@execonline-inc/time-distance","href":"/packages/time-distance"},{"title":"@execonline-inc/translations","href":"/packages/translations"},{"title":"@execonline-inc/url","href":"/packages/url"}]}]},"__N_SSG":true},"page":"/packages/[slug]","query":{"slug":"appy"},"buildId":"9r2BuDIN6ARW3NrHamT86","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>