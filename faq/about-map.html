<!DOCTYPE html><html class="dark js-focus-visible antialiased [font-feature-settings:&#x27;ss01&#x27;]" lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>What&#x27;s All This About Map Then?<!-- --> | CooperTS<!-- --></title><meta name="next-head-count" content="3"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/1e1a00e9ee4e1e61.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1e1a00e9ee4e1e61.css" data-n-g=""/><link rel="preload" href="/_next/static/css/5ca09d9210f45551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5ca09d9210f45551.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-59c5c889f52620d6.js" defer=""></script><script src="/_next/static/chunks/framework-bf6ae016f24cc987.js" defer=""></script><script src="/_next/static/chunks/main-7151d6cc786a5df5.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e85d445e2f0159ed.js" defer=""></script><script src="/_next/static/chunks/280-9a34a1e48a9c6a90.js" defer=""></script><script src="/_next/static/chunks/pages/faq/%5Bslug%5D-e8b9293522a526d9.js" defer=""></script><script src="/_next/static/FG51uet_XKpmqxkhBI8Kq/_buildManifest.js" defer=""></script><script src="/_next/static/FG51uet_XKpmqxkhBI8Kq/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap">@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G055Iu.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdiWJ.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45GE5g.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8WbcNcA.woff) format('woff')}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G056IkUwCgblWmLWQ.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt43C1KxNDXMspQ1lPyU89-1h6ONRlW45G056IqUwCgblWm.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdhWDTFiMF225Z2k.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt93C1KxNDXMspQ1lPyU89-1h6ONRlW45G056qRdhWNTFiMF225.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45G07JIoWQeCbGWn.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt23C1KxNDXMspQ1lPyU89-1h6ONRlW45G04pIoWQeCbA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8Wbc9eiWPRl-uFV24.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Atkinson Hyperlegible';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/atkinsonhyperlegible/v11/9Bt73C1KxNDXMspQ1lPyU89-1h6ONRlW45G8Wbc9dCWPRl-uFQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="prose prose-slate bg-white prose-lead:text-slate-500 prose-a:font-bold prose-a:no-underline prose-a:text-sky-500 max-w-full prose-a:shadow-[inset_0_17px_0_0_var(--tw-prose-background,#fff),inset_0_calc(-1*(var(--tw-prose-underline-size,4px)+2px))_0_0_var(--tw-prose-underline,theme(colors.sky.300))] hover:prose-a:[--tw-prose-underline-size:6px] dark:prose-invert dark:bg-slate-900 dark:text-slate-400 dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-lead:text-slate-400 dark:prose-a:text-sky-400 dark:prose-a:shadow-[var(--darkProseAShadow)] dark:hover:prose-a:[--tw-prose-underline-size:3px] dark:prose-hr:border-slate-800"><div id="__next"><div class="flex h-screen w-screen flex-col justify-between scroll-smooth"><header class="not-prose sticky top-0 z-50 flex items-center justify-between space-x-6 bg-white py-3 shadow-md shadow-slate-900/5 transition duration-500 dark:shadow-none sm:space-x-10 sm:py-4 md:py-5 dark:bg-transparent"><div class="content-container-width mx-auto py-3 flex items-center justify-between space-x-6"><a class="text-base font-bold text-green-600 hover:text-indigo-900 dark:text-green-300 dark:hover:text-indigo-300 sm:text-lg" href="/">CooperTS</a><nav class="md:text-md flex items-center space-x-5 text-sm sm:space-x-10 sm:text-sm" aria-label="Primary"><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/about">About</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/guide">Guide</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/examples">Examples</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/faq">FAQs</a><a class="font-medium text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white" href="/packages">Packages</a><a target="_blank" class="group" href="https://github.com/execonline-inc/CooperTS"><span class="sr-only">CooperTS on GitHub</span><svg aria-hidden="true" viewBox="0 0 16 16" class="h-6 w-6 fill-slate-500 group-hover:fill-slate-700 dark:fill-slate-300 dark:group-hover:fill-white"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg></a></nav></div></header><div class="flex w-screen items-start"><div class="not-prose relative ml-4 max-w-xs"><div class="sticky top-[4.5rem] -ml-0.5 h-[calc(100vh-4.5rem)] overflow-y-auto py-16 pl-0.5"><nav class="w-64 pr-8 text-base lg:text-sm xl:w-72 xl:pr-16"><ul class="space-y-9"><li class="font-display font-medium text-slate-900 dark:text-white"><a href="/about">About</a><ul class="not-prose lg:border-slate-20 mt-6 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4"></ul></li><li class="font-display font-medium text-slate-900 dark:text-white"><a href="/guide">Guide</a><ul class="not-prose lg:border-slate-20 mt-6 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/guide/practical-patterns">CooperTS - Practical Patterns</a></li></ul></li><li class="font-display font-medium text-slate-900 dark:text-white"><a href="/examples">Examples</a><ul class="not-prose lg:border-slate-20 mt-6 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/examples#task-manager-app">Task Manager App</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/examples#cellular-automata-emulator">Cellular Automata Emulator</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/examples#this-doc-site">This Doc Site 😁</a></li></ul></li><li class="font-display font-medium text-slate-900 dark:text-white"><a href="/faq">Frequently Asked Questions</a><ul class="not-prose lg:border-slate-20 mt-6 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/faq/about-map">What&#x27;s All This About Map Then?</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/faq/billion-dollar-mistake">Avoiding The Billion Dollar Mistake</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/faq/getorelse-vs-getorelsevalue">When to Use Which - getOrElse vs getOrElseValue</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/faq/imperative-vs-declarative">Imperative vs Declarative Programming</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/faq/map-vs-andthen">When To Use Which - map vs. andThen</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/faq/monads">When To Use Which - Maybe vs Result vs Task (and other Monads)</a></li></ul></li><li class="font-display font-medium text-slate-900 dark:text-white"><a href="/packages">Packages</a><ul class="not-prose lg:border-slate-20 mt-6 space-y-2 border-l-2 border-slate-100 dark:border-slate-800 lg:mt-4 lg:space-y-4"><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/ajaxian">ajaxian</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/ajaxios">ajaxios</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/cute">@kofno/cute</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/gaia">@kofno/gaia</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/jsonous">jsonous</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/maybeasy">maybeasy</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/nonempty-list">nonempty-list</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/piper">@kofno/piper</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/resulty">resulty</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/stack-ts">@kofno/stack-ts</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/taskarian">taskarian</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/appy">@execonline-inc/appy</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/collections">@execonline-inc/collections</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/decoders">@execonline-inc/decoders</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/dom">@execonline-inc/dom</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/environment">@execonline-inc/environment</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/error-handling">@execonline-inc/error-handling</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/logging">@execonline-inc/logging</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/maybe-adapter">@execonline-inc/maybe-adapter</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/numbers">@execonline-inc/numbers</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/resource">@execonline-inc/resource</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/strings">@execonline-inc/strings</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/time">@execonline-inc/time</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/time-distance">@execonline-inc/time-distance</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/translations">@execonline-inc/translations</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/url">@execonline-inc/url</a></li><li class="relative"><a class="block w-full pl-3.5 text-slate-500 before:pointer-events-none before:absolute before:-left-1 before:top-1/2 before:hidden before:h-1.5 before:w-1.5 before:-translate-y-1/2 before:rounded-full before:bg-slate-300 hover:text-slate-600 hover:before:block dark:text-slate-400 dark:before:bg-slate-700 dark:hover:text-slate-300" href="/packages/web-url">@execonline-inc/web-url</a></li></ul></li></ul></nav></div></div><div class="flex h-screen w-screen flex-col justify-between scroll-smooth"><main class="fixed-origin content-container-width relative mx-auto flex flex-col justify-center"><div class="py-10 md:py-16"><span class="not-prose group"></span><article class="relative"><header><h1 class="font-display text-3xl tracking-tight text-slate-900 dark:text-white">What&#x27;s All This About Map Then?</h1></header><div class="prose prose-slate w-full lg:max-w-none prose-headings:scroll-mt-28 prose-headings:font-display prose-headings:font-normal prose-lead:text-slate-500 prose-a:font-semibold prose-a:no-underline prose-a:shadow-[var(--proseAShadow)] hover:prose-a:[--tw-prose-underline-size:6px] prose-pre:rounded-xl prose-pre:bg-slate-900 prose-pre:shadow-lg prose-pre:p-3 md:prose-pre:p-5 prose-pre:text-xs md:prose-pre:text-sm lg:prose-pre:text-base dark:prose-invert dark:text-slate-400 dark:[--tw-prose-background:theme(colors.slate.900)] dark:prose-lead:text-slate-400 dark:prose-a:text-sky-400 dark:prose-a:shadow-[var(--darkProseAShadow)] dark:hover:prose-a:[--tw-prose-underline-size:6px] dark:prose-pre:bg-slate-800/60 dark:prose-pre:shadow-none dark:prose-pre:ring-1 dark:prose-pre:ring-slate-300/10 dark:prose-hr:border-slate-800 lg:prose-headings:scroll-mt-[8.5rem]"><h2 id="caveats-and-disclaimers">Caveats and Disclaimers</h2>
<p>I make no guarantees that the code examples compile or execute. All code examples are syntactically similar to Typescript, but should be treated as pseudo-code. Also, I expect to reference behaviors (methods, etc) that actually don&#39;t exist in the JavaScript standard library (though it&#39;d be nice if some of them did). I try to call out where I&#39;m doing this, but really who knows if I got every case. The intent of this is not because I&#39;m lazy (well, not exclusively because I&#39;m lazy), but because I want to emphasize the concepts, and not muddy the waters of learning with the intricacies of the JavaScript implementation reality.</p>
<p>With that out of the way, on to the topic at hand...</p>
<h2 id="but-first-a-pure-function-primer">But First... (a Pure Function Primer)</h2>
<p>Before we tackle Map and AndThen, we should make sure that we are all on the same page about functions.</p>
<p>In the mathematical sense, a function is just a mapping from a Set of inputs to a Set of outputs. The output for any given input will always be the same. In the programming world, we call these functions &quot;pure&quot; functions. and they are becoming quite popular.</p>
<p>Pure functions are defined by having no side effects and always returning the same value for the same arguments.This idea is often called &quot;referential integrity&quot;, which simply means that if you replace your function call with the value returned from the function, your program doesn&#39;t break.</p>
<p>Let&#39;s take a moment to explore referential integrity. Given this function:</p>
<h3 id="add2">add2</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add2</span> = (<span class="hljs-params">n: <span class="hljs-built_in">number</span></span>) =&gt; n + <span class="hljs-number">2</span>;
</code></pre>
<p>Then this program:</p>
<h3 id="referential-program-1">referential program 1</h3>
<pre><code class="language-typescript"><span class="hljs-title function_">add2</span>(<span class="hljs-number">2</span>) === <span class="hljs-number">4</span>;
</code></pre>
<p>is identical to this program:</p>
<h3 id="referential-program-2">referential program 2</h3>
<pre><code class="language-typescript"><span class="hljs-number">4</span> === <span class="hljs-number">4</span>;
</code></pre>
<p>So.. that was probably a tad underwhelming.</p>
<p>Now let&#39;s consider a slightly different version of add2.</p>
<h3 id="side-effectual-add2">side effectual add2</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add2</span> = (<span class="hljs-params">n: <span class="hljs-built_in">number</span></span>) =&gt; {
  <span class="hljs-title function_">sendEngagement</span>(<span class="hljs-string">`Someone added 2 to <span class="hljs-subst">${n}</span>`</span>);
  <span class="hljs-keyword">return</span> n + <span class="hljs-number">2</span>;
};
</code></pre>
<p>Now when I replace add2(2) === 4 with 4 === 4, how many Product Managers am I going to have in my inbox in the morning because the add2 engagements are broken? Imagine trying to write tests for both versions of add2. Which one is easier?</p>
<p>The problem with the second version of add2 is that has side effects in addition to the computation we were expecting. Side effects could include mutating inputs, modifying global variables, I/O operations (reading writing to disk, http requests, reading environment variables, etc.). You can&#39;t have a meaningful program without side-effects, but a key tenant of CooperTS is that we want to separate our side effects from our business logic. This makes the business logic easier to write and understand, while isolating parts of the code that are going to fail at runtime.</p>
<p>So why did we go through all this just to talk about Map and AndThen? Well, the laws that govern how Map and AndThen work assume that the functions that are passed in are pure. Applying side effectual behaviors using Map and AndThen are generally discouraged as they subvert optimizations and logic that the mapping behavior is applying in the implementation. Map, after, all isn&#39;t just a stylistic preference for looping.</p>
<p>With all that out of the way, let&#39;s look at Map and AndThen as applied to Arrays.</p>
<h2 id="the-array">The Array</h2>
<p>So let&#39;s look at a map in the familiar context of an Array.</p>
<p>Before we begin, let&#39;s define some types to work with:</p>
<h3 id="typests">Types.ts</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Encoding</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Stream</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">codec</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Video</span> {
  <span class="hljs-attr">encoding</span>: <span class="hljs-title class_">Encoding</span>;
  <span class="hljs-attr">streams</span>: <span class="hljs-title class_">Stream</span>[]
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">videos</span>: <span class="hljs-title class_">Video</span>[] = <span class="hljs-comment">// ... assume we initialized this array with videos</span>
</code></pre>
<p>Now lets write a couple loops. One that gets all of the encoding ids from the list of videos, and another that gets all the stream ids from the list of videos:</p>
<h3 id="get-you-some-encoding-ids">Get you some encoding ids</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">encodingIds</span>: <span class="hljs-built_in">string</span>[] = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; videos.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">const</span> id = videos[i].<span class="hljs-property">encoding</span>.<span class="hljs-property">id</span>;
  encodingIds.<span class="hljs-title function_">push</span>(id);
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">streamIds</span>: <span class="hljs-built_in">string</span>[] = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; videos.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">const</span> streams = videos[i].<span class="hljs-property">streams</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; streams.<span class="hljs-property">length</span>; j++) {
    <span class="hljs-keyword">const</span> id = streams[j].<span class="hljs-property">id</span>;
    streamIds.<span class="hljs-title function_">push</span>(id);
  }
}
</code></pre>
<p>If you read this code honestly, you have to admit that it&#39;s mostly loop management and state initialization; low level concepts that muddy up our business concerns.</p>
<p>Now let&#39;s extract the &quot;business logic&quot; into some functions:</p>
<h3 id="functionsts">Functions.ts</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> getId = &lt;T <span class="hljs-keyword">extends</span> { <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> }&gt;(<span class="hljs-attr">thing</span>: T): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> thing.<span class="hljs-property">id</span>;

<span class="hljs-keyword">const</span> getStreams = (<span class="hljs-attr">video</span>: <span class="hljs-title class_">Video</span>): <span class="hljs-title class_">Stream</span>[] =&gt; video.<span class="hljs-property">streams</span>;

<span class="hljs-keyword">const</span> getEncoding = (<span class="hljs-attr">video</span>: <span class="hljs-title class_">Video</span>): <span class="hljs-function"><span class="hljs-params">Encoding</span> =&gt;</span> video.<span class="hljs-property">encoding</span>;
</code></pre>
<p>And we&#39;ll try again:</p>
<h3 id="loops-redeux">Loops redeux</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">encodingIds</span>: <span class="hljs-built_in">string</span>[] = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; videos.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">const</span> id = <span class="hljs-title function_">getId</span>(<span class="hljs-title function_">getEncoding</span>(videos[i]));
  encodingIds.<span class="hljs-title function_">push</span>(id);
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">streamIds</span>: <span class="hljs-built_in">string</span>[] = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; videos.<span class="hljs-property">length</span>; i++) {
  <span class="hljs-keyword">const</span> streams = <span class="hljs-title function_">getStreams</span>(videos[i]);

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; streams.<span class="hljs-property">length</span>; j++) {
    <span class="hljs-keyword">const</span> id = <span class="hljs-title function_">getId</span>(streams[j]);
    streamIds.<span class="hljs-title function_">push</span>(id);
  }
}
</code></pre>
<p>Is this better? Well, each piece of business logic is much easier to test now. But we&#39;re still doing loop maintenance and state management, and depending on how you feel about reading functions vs. dot notation, this might be harder for you to read.</p>
<p>Let&#39;s look again at the encoding ids example, this time using map:</p>
<h3 id="encoding-ids-mapped-edition">Encoding IDs, Mapped edition</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">encodingIds</span>: <span class="hljs-built_in">string</span>[] = videos.<span class="hljs-title function_">map</span>(getEncoding).<span class="hljs-title function_">map</span>(getId);
</code></pre>
<p>And that&#39;s all she wrote. Loop maintenance is gone. State management is gone. All that&#39;s left are the declarations of what the logic is doing.</p>
<p>&quot;So tell me...&quot;, you may be thinking. &quot;How does map work?&quot;</p>
<p>Let us now take a look at a hypothetical implementation of map in a hypothetical Array class:</p>
<h3 id="maps-guts">Map&#39;s Guts</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span>&lt;A&gt; {
  <span class="hljs-comment">//... a bunch of stuff that makes arrays arrays</span>
  map = &lt;B&gt;(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">a: A</span>) =&gt;</span> B): <span class="hljs-title class_">Array</span>&lt;B&gt; =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">newArray</span>: B[] = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> b = <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>[i]);
      newArray.<span class="hljs-title function_">push</span>(b);
    }

    <span class="hljs-keyword">return</span> newArray;
  };
}
</code></pre>
<p>So that&#39;s where all the loop maintenance and state management went!? Indeed. This is the power of map: It abstracts away low level considerations, and surfaces only the business concerns.</p>
<p>Now I want to take a look at the signature of the fn argument in map and compare it to our business logic functions:</p>
<h3 id="map-signature">Map Signature</h3>
<pre><code class="language-typescript"><span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">a: A</span>) =&gt;</span> B

<span class="hljs-attr">getId</span>: (<span class="hljs-attr">thing</span>: T): <span class="hljs-built_in">string</span>

<span class="hljs-attr">getStreams</span>: (<span class="hljs-attr">video</span>: <span class="hljs-title class_">Video</span>): <span class="hljs-title class_">Stream</span>[]

<span class="hljs-attr">getEncoding</span>: (<span class="hljs-attr">video</span>: <span class="hljs-title class_">Video</span>): <span class="hljs-title class_">Encoding</span>
</code></pre>
<p>Every single one of our business logic functions is compatible with map. And this will be true of any pure function. As long as it takes a single argument (or can be curried down to take a single argument) then that function can be used with map. And we can see in the array example that map frees up a lot of mental bandwidth, freeing up cycles that were once devoted to tracking loop and state details but can now be applied to solving actual application space problems.</p>
<p>This idea of map abstracting away low level details is powerful. In the array, it hides looping and state mutation. But imagine if all of your ugly, side effectual, state management details could be modeled as mappable data structures. In that world, all of your business logic could be written in easily tested, easily reasoned about, type checkable, pure functions. No mocks. No browser. No environment considerations. WOW!</p>
<p>Of course, when everything seems rosy, there&#39;s always something that comes along and throws a wrench in the works. Let&#39;s see what happens when we apply map the stream ids case:</p>
<h3 id="map-stream-ids">map stream ids</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">streamIds</span>: <span class="hljs-built_in">string</span>[] = videos.<span class="hljs-title function_">map</span>(getStreams).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">streams</span>) =&gt;</span> streams.<span class="hljs-title function_">map</span>(getId));
</code></pre>
<p>Ugh... getStreams is breaking my beautiful code. Since it returns an array, I have to nest a map inside another map; abstraction details are leaking out. Also, this won&#39;t compile because I&#39;ve declared that I need a string[], but I&#39;m actually getting a string[][]. Ay caramba!</p>
<p>We could fix the compiler error with something intensely JavaScripty, like this:</p>
<h3 id="intense-javascript">Intense JavaScript</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">tempStreamIds</span>: <span class="hljs-built_in">string</span>[][] = videos.<span class="hljs-title function_">map</span>(getStreams).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">streams</span>) =&gt;</span> streams.<span class="hljs-title function_">map</span>(getId));

<span class="hljs-keyword">const</span> <span class="hljs-attr">streamIds</span>: <span class="hljs-built_in">string</span>[] = [].<span class="hljs-property">concat</span>.<span class="hljs-title function_">apply</span>([], tempStreamIds);
</code></pre>
<p>It should compile now, but so help me... I need to know how JavaScript functions can be applied; the lowest of low level details. Calgon, take me away.</p>
<p>What would be great here, is if we had a function like map, but instead of appending the results of the map function (fn), it concatenated them. What would we call such a function? How about concatMap? Let&#39;s look at a hypothetical implementation of concatMap:</p>
<h3 id="concatmap">concatMap</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span>&lt;A&gt; {
  <span class="hljs-comment">//... a bunch of stuff that makes arrays arrays</span>
  concatMap = &lt;B&gt;(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">a: A</span>) =&gt;</span> B[]): <span class="hljs-title class_">Array</span>&lt;B&gt; =&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">newArray</span>: B[] = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> bs = <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>[i]);
      newArray = newArray.<span class="hljs-title function_">concat</span>(bs);
    }

    <span class="hljs-keyword">return</span> newArray;
  };
}
</code></pre>
<p>Heavens to Betsy, that looks a lot like map, doesn&#39;t it? The differences are that the fn function argument must return an array, and those arrays are being concatenated, rather then appended.</p>
<p>Well, now that we have concatMap, let&#39;s go back and fix our streamIds:</p>
<h3 id="fixed-stream-ids">fixed stream ids</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">streamIds</span>: <span class="hljs-built_in">string</span>[] = videos.<span class="hljs-title function_">concatMap</span>(getStreams).<span class="hljs-title function_">map</span>(getId);
</code></pre>
<p>Phew... that is so much nicer.</p>
<p>In this section we&#39;ve seen that map and it&#39;s close sibling concatMap are incredibly handy abstractions to have around. They de-emphasize low level details allowing us to re-emphasize business logic. In many cases, that leads to purely functional application logic that is easily tested and easily reasoned about.</p>
<p>That&#39;s a lot to take in. Why don&#39;t we take a break here and enjoy a Blueberry Acai Diet Coke before moving on to the next section?</p>
<h2 id="walk-thru-of-map">Walk-thru of Map</h2>
<p>To make sure we clearly understand what is going on here, let&#39;s walk through the map implementation for arrays. Here is the code again...</p>
<h3 id="maps-guts-1">Map&#39;s Guts</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span>&lt;A&gt; {
  <span class="hljs-comment">//... a bunch of stuff that makes arrays arrays</span>
  map = &lt;B&gt;(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">a: A</span>) =&gt;</span> B): <span class="hljs-title class_">Array</span>&lt;B&gt; =&gt; {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">newArray</span>: B[] = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> b = <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>[i]);
      newArray.<span class="hljs-title function_">push</span>(b);
    }

    <span class="hljs-keyword">return</span> newArray;
  };
}
</code></pre>
<p>Line 4: When we enter into map, the first thing that happens is a new Array is instantiated.</p>
<p>Line 7: Then, we apply fn to each item in the array.</p>
<p>Line 8: The result of that function call is appended to the new array.</p>
<p>Line 11. Then we return the new array.</p>
<p>In the case where the array is empty, the looping logic falls through and we simply return the new, empty array.</p>
<h2 id="walk-thru-of-concatmap">Walk-thru of concatMap</h2>
<p>Now we&#39;ll do the same walk through, but with concatMap. Here&#39;s the code again:</p>
<h3 id="concatmap-1">concatMap</h3>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Array</span>&lt;A&gt; {
  <span class="hljs-comment">//... a bunch of stuff that makes arrays arrays</span>
  concatMap = &lt;B&gt;(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">a: A</span>) =&gt;</span> B[]): <span class="hljs-title class_">Array</span>&lt;B&gt; =&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">newArray</span>: B[] = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> bs = <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>[i]);
      newArray = newArray.<span class="hljs-title function_">concat</span>(bs);
    }

    <span class="hljs-keyword">return</span> newArray;
  };
}
</code></pre>
<p>Line 4: When we enter into concatMap, we start by create a new array (same as with map)</p>
<p>Line 7: Then we apply fn to each item in the array. In the case of concatMap, the result from fn will be another array.</p>
<p>Line 8: Next we concatenate the array from line 7, onto the new array that we are constructing.</p>
<p>Line 11: Finally, we return our new array, which is flattened out without any nesting.</p>
<p>In the case where the array is empty, the loop logic falls through and the empty array is returned.</p>
<h2 id="other-mappable-types">Other Mappable Types</h2>
<p>We can now take this understanding of map and concatMap and apply it to other mappable types. For example, let&#39;s create a data type that represents an optional value. This is a type that can replace the use of undefined. It encapsulates checks for undefined in one place, and makes it possible to cleanly chain together computations on values that may or may not be available.</p>
<p>Let&#39;s start with a simple class definition for Optional:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Optional</span>&lt;A&gt; {
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> some = &lt;A&gt;<span class="hljs-function">(<span class="hljs-params">value: A</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Optional</span>&lt;A&gt;(value);
  };

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> none = &lt;A&gt;<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Optional</span>&lt;A&gt;();
  };

  <span class="hljs-keyword">private</span> value?: A;

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">constructor</span>(<span class="hljs-params">value?: A</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;
  }

  <span class="hljs-comment">// ... more to come</span>
}
</code></pre>
<p>This class has a private value that could be undefined, or it could be some generic type of A.</p>
<p>So far we can construct some value or we can construct a none value, but since the value is private, we can&#39;t do anything with it. Let&#39;s add a map method first, so we can at least get at the value. As we read this code, try to keep the Array map intuition in mind. The None case is like having an empty array, and the Some case is like having a one item array. Let&#39;s write this:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Optional</span>&lt;A&gt; {
  <span class="hljs-comment">// ... constructors and stuff</span>

  map = &lt;B&gt;<span class="hljs-function">(<span class="hljs-params">fn: (a: A) =&gt; B</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> ? <span class="hljs-title class_">Optional</span>.<span class="hljs-title function_">some</span>(<span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>)) : <span class="hljs-title class_">Optional</span>.<span class="hljs-title function_">none</span>();
  };
}
</code></pre>
<p>Because there is no looping construct here, this logic is a bit more direct. We check if the value is defined. If it is, we apply fn to the value and return it wrapped in a new some. Otherwise, we return none.</p>
<p>The concatMap implementation is equally direct.</p>
<pre><code class="language-typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Optional</span>&lt;A&gt; {
  <span class="hljs-comment">// ... constructors and stuff</span>

  concatMap = &lt;B&gt;<span class="hljs-function">(<span class="hljs-params">fn: (a: A) =&gt; Optional&lt;B&gt;</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span> ? <span class="hljs-title function_">fn</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>) : <span class="hljs-title class_">Optional</span>.<span class="hljs-title function_">none</span>();
  };
}
</code></pre>
<p>Now we can compose operations that may fail or return no results in the same way we could chain those calls to an array. For example:</p>
<pre><code class="language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> =
  (<span class="hljs-params">n1: <span class="hljs-built_in">number</span></span>) =&gt;
  (<span class="hljs-attr">n2</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> n1 + n2;
  };

<span class="hljs-keyword">const</span> <span class="hljs-title function_">safeDiv</span> =
  (<span class="hljs-params">dividend: <span class="hljs-built_in">number</span></span>) =&gt;
  (<span class="hljs-attr">divisor</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Optional</span>&lt;<span class="hljs-built_in">number</span>&gt; =&gt; {
    <span class="hljs-keyword">return</span> divisor === <span class="hljs-number">0</span> ? <span class="hljs-title class_">Optional</span>.<span class="hljs-title function_">none</span>() : <span class="hljs-title class_">Optional</span>.<span class="hljs-title function_">some</span>(dividend / divisor);
  };

<span class="hljs-title class_">Optional</span>.<span class="hljs-title function_">some</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title function_">add</span>(-<span class="hljs-number">2</span>)).<span class="hljs-title function_">concatMap</span>(<span class="hljs-title function_">safeDiv</span>(<span class="hljs-number">4</span>));
</code></pre>
<p>Rather then producing NaN, this code will return None if the division fails (divide by zero error). That makes it easier to chain operations together.</p>
<h2 id="some-final-notes">Some Final Notes</h2>
<p>We&#39;ve demonstrated the logic behind map and concatMap in terms of Arrays, so that we can leverage that intuition and apply it to other mappable types. We&#39;ve even looked at some hypothetical implementations of map and concatMap to help our understanding.</p>
<p>When developing using CooperTS, our default optional value is actually called Maybe. But the logic and implementation details are applicable, only the names have been changed.</p>
<p>Also note, concatMap can be known by many names: bind, chain, flatMap,, &gt;&gt;=, etc. In CooperTS libraries like Maybeasy, Taskarain, and Jsonous, concatMap is named andThen.</p>
<p>And now you know the rest of the story.</p>
</div></article></div></main><footer class="not-prose sticky top-0 z-50 
        flex flex-wrap items-center justify-between
        bg-white
        py-5 px-4 shadow-md
        shadow-slate-900/5 
        dark:bg-slate-900/95 dark:shadow-none
        sm:px-6 lg:px-8" aria-label="footer"><p>© <!-- -->2023 <!-- --><a href="https://www.execonline.com/" target="_blank" rel="noopener noreferrer">ExecOnline</a></p></footer></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"page":{"slug":"about-map","frontmatter":{"title":"What's All This About Map Then?","description":""},"markdown":{"content":"\n## Caveats and Disclaimers\n\nI make no guarantees that the code examples compile or execute. All code examples are syntactically similar to Typescript, but should be treated as pseudo-code. Also, I expect to reference behaviors (methods, etc) that actually don't exist in the JavaScript standard library (though it'd be nice if some of them did). I try to call out where I'm doing this, but really who knows if I got every case. The intent of this is not because I'm lazy (well, not exclusively because I'm lazy), but because I want to emphasize the concepts, and not muddy the waters of learning with the intricacies of the JavaScript implementation reality.\n\nWith that out of the way, on to the topic at hand...\n\n## But First... (a Pure Function Primer)\n\nBefore we tackle Map and AndThen, we should make sure that we are all on the same page about functions.\n\nIn the mathematical sense, a function is just a mapping from a Set of inputs to a Set of outputs. The output for any given input will always be the same. In the programming world, we call these functions \"pure\" functions. and they are becoming quite popular.\n\nPure functions are defined by having no side effects and always returning the same value for the same arguments.This idea is often called \"referential integrity\", which simply means that if you replace your function call with the value returned from the function, your program doesn't break.\n\nLet's take a moment to explore referential integrity. Given this function:\n\n### add2\n\n```typescript\nconst add2 = (n: number) =\u003e n + 2;\n```\n\nThen this program:\n\n### referential program 1\n\n```typescript\nadd2(2) === 4;\n```\n\nis identical to this program:\n\n### referential program 2\n\n```typescript\n4 === 4;\n```\n\nSo.. that was probably a tad underwhelming.\n\nNow let's consider a slightly different version of add2.\n\n### side effectual add2\n\n```typescript\nconst add2 = (n: number) =\u003e {\n  sendEngagement(`Someone added 2 to ${n}`);\n  return n + 2;\n};\n```\n\nNow when I replace add2(2) === 4 with 4 === 4, how many Product Managers am I going to have in my inbox in the morning because the add2 engagements are broken? Imagine trying to write tests for both versions of add2. Which one is easier?\n\nThe problem with the second version of add2 is that has side effects in addition to the computation we were expecting. Side effects could include mutating inputs, modifying global variables, I/O operations (reading writing to disk, http requests, reading environment variables, etc.). You can't have a meaningful program without side-effects, but a key tenant of CooperTS is that we want to separate our side effects from our business logic. This makes the business logic easier to write and understand, while isolating parts of the code that are going to fail at runtime.\n\nSo why did we go through all this just to talk about Map and AndThen? Well, the laws that govern how Map and AndThen work assume that the functions that are passed in are pure. Applying side effectual behaviors using Map and AndThen are generally discouraged as they subvert optimizations and logic that the mapping behavior is applying in the implementation. Map, after, all isn't just a stylistic preference for looping.\n\nWith all that out of the way, let's look at Map and AndThen as applied to Arrays.\n\n## The Array\n\nSo let's look at a map in the familiar context of an Array.\n\nBefore we begin, let's define some types to work with:\n\n### Types.ts\n\n```typescript\ninterface Encoding {\n  id: string;\n  name: string;\n}\n\ninterface Stream {\n  id: string;\n  codec: string;\n}\n\ninterface Video {\n  encoding: Encoding;\n  streams: Stream[]\n}\n\nconst videos: Video[] = // ... assume we initialized this array with videos\n```\n\nNow lets write a couple loops. One that gets all of the encoding ids from the list of videos, and another that gets all the stream ids from the list of videos:\n\n### Get you some encoding ids\n\n```typescript\nconst encodingIds: string[] = [];\n\nfor (let i = 0; i \u003c videos.length; i++) {\n  const id = videos[i].encoding.id;\n  encodingIds.push(id);\n}\n\nconst streamIds: string[] = [];\n\nfor (let i = 0; i \u003c videos.length; i++) {\n  const streams = videos[i].streams;\n\n  for (let j = 0; j \u003c streams.length; j++) {\n    const id = streams[j].id;\n    streamIds.push(id);\n  }\n}\n```\n\nIf you read this code honestly, you have to admit that it's mostly loop management and state initialization; low level concepts that muddy up our business concerns.\n\nNow let's extract the \"business logic\" into some functions:\n\n### Functions.ts\n\n```typescript\nconst getId = \u003cT extends { id: string }\u003e(thing: T): string =\u003e thing.id;\n\nconst getStreams = (video: Video): Stream[] =\u003e video.streams;\n\nconst getEncoding = (video: Video): Encoding =\u003e video.encoding;\n```\n\nAnd we'll try again:\n\n### Loops redeux\n\n```typescript\nconst encodingIds: string[] = [];\n\nfor (let i = 0; i \u003c videos.length; i++) {\n  const id = getId(getEncoding(videos[i]));\n  encodingIds.push(id);\n}\n\nconst streamIds: string[] = [];\n\nfor (let i = 0; i \u003c videos.length; i++) {\n  const streams = getStreams(videos[i]);\n\n  for (let j = 0; j \u003c streams.length; j++) {\n    const id = getId(streams[j]);\n    streamIds.push(id);\n  }\n}\n```\n\nIs this better? Well, each piece of business logic is much easier to test now. But we're still doing loop maintenance and state management, and depending on how you feel about reading functions vs. dot notation, this might be harder for you to read.\n\nLet's look again at the encoding ids example, this time using map:\n\n### Encoding IDs, Mapped edition\n\n```typescript\nconst encodingIds: string[] = videos.map(getEncoding).map(getId);\n```\n\nAnd that's all she wrote. Loop maintenance is gone. State management is gone. All that's left are the declarations of what the logic is doing.\n\n\"So tell me...\", you may be thinking. \"How does map work?\"\n\nLet us now take a look at a hypothetical implementation of map in a hypothetical Array class:\n\n### Map's Guts\n\n```typescript\nclass Array\u003cA\u003e {\n  //... a bunch of stuff that makes arrays arrays\n  map = \u003cB\u003e(fn: (a: A) =\u003e B): Array\u003cB\u003e =\u003e {\n    const newArray: B[] = [];\n\n    for (let i = 0; i \u003c this.length; i++) {\n      const b = fn(this[i]);\n      newArray.push(b);\n    }\n\n    return newArray;\n  };\n}\n```\n\nSo that's where all the loop maintenance and state management went!? Indeed. This is the power of map: It abstracts away low level considerations, and surfaces only the business concerns.\n\nNow I want to take a look at the signature of the fn argument in map and compare it to our business logic functions:\n\n### Map Signature\n\n```typescript\nfn: (a: A) =\u003e B\n\ngetId: (thing: T): string\n\ngetStreams: (video: Video): Stream[]\n\ngetEncoding: (video: Video): Encoding\n```\n\nEvery single one of our business logic functions is compatible with map. And this will be true of any pure function. As long as it takes a single argument (or can be curried down to take a single argument) then that function can be used with map. And we can see in the array example that map frees up a lot of mental bandwidth, freeing up cycles that were once devoted to tracking loop and state details but can now be applied to solving actual application space problems.\n\nThis idea of map abstracting away low level details is powerful. In the array, it hides looping and state mutation. But imagine if all of your ugly, side effectual, state management details could be modeled as mappable data structures. In that world, all of your business logic could be written in easily tested, easily reasoned about, type checkable, pure functions. No mocks. No browser. No environment considerations. WOW!\n\nOf course, when everything seems rosy, there's always something that comes along and throws a wrench in the works. Let's see what happens when we apply map the stream ids case:\n\n### map stream ids\n\n```typescript\nconst streamIds: string[] = videos.map(getStreams).map((streams) =\u003e streams.map(getId));\n```\n\nUgh... getStreams is breaking my beautiful code. Since it returns an array, I have to nest a map inside another map; abstraction details are leaking out. Also, this won't compile because I've declared that I need a string[], but I'm actually getting a string[][]. Ay caramba!\n\nWe could fix the compiler error with something intensely JavaScripty, like this:\n\n### Intense JavaScript\n\n```typescript\nconst tempStreamIds: string[][] = videos.map(getStreams).map((streams) =\u003e streams.map(getId));\n\nconst streamIds: string[] = [].concat.apply([], tempStreamIds);\n```\n\nIt should compile now, but so help me... I need to know how JavaScript functions can be applied; the lowest of low level details. Calgon, take me away.\n\nWhat would be great here, is if we had a function like map, but instead of appending the results of the map function (fn), it concatenated them. What would we call such a function? How about concatMap? Let's look at a hypothetical implementation of concatMap:\n\n### concatMap\n\n```typescript\nclass Array\u003cA\u003e {\n  //... a bunch of stuff that makes arrays arrays\n  concatMap = \u003cB\u003e(fn: (a: A) =\u003e B[]): Array\u003cB\u003e =\u003e {\n    let newArray: B[] = [];\n\n    for (let i = 0; i \u003c this.length; i++) {\n      const bs = fn(this[i]);\n      newArray = newArray.concat(bs);\n    }\n\n    return newArray;\n  };\n}\n```\n\nHeavens to Betsy, that looks a lot like map, doesn't it? The differences are that the fn function argument must return an array, and those arrays are being concatenated, rather then appended.\n\nWell, now that we have concatMap, let's go back and fix our streamIds:\n\n### fixed stream ids\n\n```typescript\nconst streamIds: string[] = videos.concatMap(getStreams).map(getId);\n```\n\nPhew... that is so much nicer.\n\nIn this section we've seen that map and it's close sibling concatMap are incredibly handy abstractions to have around. They de-emphasize low level details allowing us to re-emphasize business logic. In many cases, that leads to purely functional application logic that is easily tested and easily reasoned about.\n\nThat's a lot to take in. Why don't we take a break here and enjoy a Blueberry Acai Diet Coke before moving on to the next section?\n\n## Walk-thru of Map\n\nTo make sure we clearly understand what is going on here, let's walk through the map implementation for arrays. Here is the code again...\n\n### Map's Guts\n\n```typescript\nclass Array\u003cA\u003e {\n  //... a bunch of stuff that makes arrays arrays\n  map = \u003cB\u003e(fn: (a: A) =\u003e B): Array\u003cB\u003e =\u003e {\n    const newArray: B[] = [];\n\n    for (let i = 0; i \u003c this.length; i++) {\n      const b = fn(this[i]);\n      newArray.push(b);\n    }\n\n    return newArray;\n  };\n}\n```\n\nLine 4: When we enter into map, the first thing that happens is a new Array is instantiated.\n\nLine 7: Then, we apply fn to each item in the array.\n\nLine 8: The result of that function call is appended to the new array.\n\nLine 11. Then we return the new array.\n\nIn the case where the array is empty, the looping logic falls through and we simply return the new, empty array.\n\n## Walk-thru of concatMap\n\nNow we'll do the same walk through, but with concatMap. Here's the code again:\n\n### concatMap\n\n```typescript\nclass Array\u003cA\u003e {\n  //... a bunch of stuff that makes arrays arrays\n  concatMap = \u003cB\u003e(fn: (a: A) =\u003e B[]): Array\u003cB\u003e =\u003e {\n    let newArray: B[] = [];\n\n    for (let i = 0; i \u003c this.length; i++) {\n      const bs = fn(this[i]);\n      newArray = newArray.concat(bs);\n    }\n\n    return newArray;\n  };\n}\n```\n\nLine 4: When we enter into concatMap, we start by create a new array (same as with map)\n\nLine 7: Then we apply fn to each item in the array. In the case of concatMap, the result from fn will be another array.\n\nLine 8: Next we concatenate the array from line 7, onto the new array that we are constructing.\n\nLine 11: Finally, we return our new array, which is flattened out without any nesting.\n\nIn the case where the array is empty, the loop logic falls through and the empty array is returned.\n\n## Other Mappable Types\n\nWe can now take this understanding of map and concatMap and apply it to other mappable types. For example, let's create a data type that represents an optional value. This is a type that can replace the use of undefined. It encapsulates checks for undefined in one place, and makes it possible to cleanly chain together computations on values that may or may not be available.\n\nLet's start with a simple class definition for Optional:\n\n```typescript\nclass Optional\u003cA\u003e {\n  public static some = \u003cA\u003e(value: A) =\u003e {\n    return new Optional\u003cA\u003e(value);\n  };\n\n  public static none = \u003cA\u003e() =\u003e {\n    return new Optional\u003cA\u003e();\n  };\n\n  private value?: A;\n\n  private constructor(value?: A) {\n    this.value = value;\n  }\n\n  // ... more to come\n}\n```\n\nThis class has a private value that could be undefined, or it could be some generic type of A.\n\nSo far we can construct some value or we can construct a none value, but since the value is private, we can't do anything with it. Let's add a map method first, so we can at least get at the value. As we read this code, try to keep the Array map intuition in mind. The None case is like having an empty array, and the Some case is like having a one item array. Let's write this:\n\n```typescript\nclass Optional\u003cA\u003e {\n  // ... constructors and stuff\n\n  map = \u003cB\u003e(fn: (a: A) =\u003e B) =\u003e {\n    return typeof this.value !== 'undefined' ? Optional.some(fn(this.value)) : Optional.none();\n  };\n}\n```\n\nBecause there is no looping construct here, this logic is a bit more direct. We check if the value is defined. If it is, we apply fn to the value and return it wrapped in a new some. Otherwise, we return none.\n\nThe concatMap implementation is equally direct.\n\n```typescript\nclass Optional\u003cA\u003e {\n  // ... constructors and stuff\n\n  concatMap = \u003cB\u003e(fn: (a: A) =\u003e Optional\u003cB\u003e) =\u003e {\n    return typeof this.value !== 'undefined' ? fn(this.value) : Optional.none();\n  };\n}\n```\n\nNow we can compose operations that may fail or return no results in the same way we could chain those calls to an array. For example:\n\n```typescript\nconst add =\n  (n1: number) =\u003e\n  (n2: number): n =\u003e {\n    return n1 + n2;\n  };\n\nconst safeDiv =\n  (dividend: number) =\u003e\n  (divisor: number): Optional\u003cnumber\u003e =\u003e {\n    return divisor === 0 ? Optional.none() : Optional.some(dividend / divisor);\n  };\n\nOptional.some(2).map(add(-2)).concatMap(safeDiv(4));\n```\n\nRather then producing NaN, this code will return None if the division fails (divide by zero error). That makes it easier to chain operations together.\n\n## Some Final Notes\n\nWe've demonstrated the logic behind map and concatMap in terms of Arrays, so that we can leverage that intuition and apply it to other mappable types. We've even looked at some hypothetical implementations of map and concatMap to help our understanding.\n\nWhen developing using CooperTS, our default optional value is actually called Maybe. But the logic and implementation details are applicable, only the names have been changed.\n\nAlso note, concatMap can be known by many names: bind, chain, flatMap,, \u003e\u003e=, etc. In CooperTS libraries like Maybeasy, Taskarain, and Jsonous, concatMap is named andThen.\n\nAnd now you know the rest of the story.\n"}},"navTree":[{"title":"About","href":"/about","links":[]},{"title":"Guide","href":"/guide","links":[{"title":"CooperTS - Practical Patterns","href":"/guide/practical-patterns"}]},{"title":"Examples","href":"/examples","links":[{"title":"Task Manager App","href":"/examples#task-manager-app"},{"title":"Cellular Automata Emulator","href":"/examples#cellular-automata-emulator"},{"title":"This Doc Site 😁","href":"/examples#this-doc-site"}]},{"title":"Frequently Asked Questions","href":"/faq","links":[{"title":"What's All This About Map Then?","href":"/faq/about-map"},{"title":"Avoiding The Billion Dollar Mistake","href":"/faq/billion-dollar-mistake"},{"title":"When to Use Which - getOrElse vs getOrElseValue","href":"/faq/getorelse-vs-getorelsevalue"},{"title":"Imperative vs Declarative Programming","href":"/faq/imperative-vs-declarative"},{"title":"When To Use Which - map vs. andThen","href":"/faq/map-vs-andthen"},{"title":"When To Use Which - Maybe vs Result vs Task (and other Monads)","href":"/faq/monads"}]},{"title":"Packages","href":"/packages","links":[{"title":"ajaxian","href":"/packages/ajaxian"},{"title":"ajaxios","href":"/packages/ajaxios"},{"title":"@kofno/cute","href":"/packages/cute"},{"title":"@kofno/gaia","href":"/packages/gaia"},{"title":"jsonous","href":"/packages/jsonous"},{"title":"maybeasy","href":"/packages/maybeasy"},{"title":"nonempty-list","href":"/packages/nonempty-list"},{"title":"@kofno/piper","href":"/packages/piper"},{"title":"resulty","href":"/packages/resulty"},{"title":"@kofno/stack-ts","href":"/packages/stack-ts"},{"title":"taskarian","href":"/packages/taskarian"},{"title":"@execonline-inc/appy","href":"/packages/appy"},{"title":"@execonline-inc/collections","href":"/packages/collections"},{"title":"@execonline-inc/decoders","href":"/packages/decoders"},{"title":"@execonline-inc/dom","href":"/packages/dom"},{"title":"@execonline-inc/environment","href":"/packages/environment"},{"title":"@execonline-inc/error-handling","href":"/packages/error-handling"},{"title":"@execonline-inc/logging","href":"/packages/logging"},{"title":"@execonline-inc/maybe-adapter","href":"/packages/maybe-adapter"},{"title":"@execonline-inc/numbers","href":"/packages/numbers"},{"title":"@execonline-inc/resource","href":"/packages/resource"},{"title":"@execonline-inc/strings","href":"/packages/strings"},{"title":"@execonline-inc/time","href":"/packages/time"},{"title":"@execonline-inc/time-distance","href":"/packages/time-distance"},{"title":"@execonline-inc/translations","href":"/packages/translations"},{"title":"@execonline-inc/url","href":"/packages/url"},{"title":"@execonline-inc/web-url","href":"/packages/web-url"}]}]},"__N_SSG":true},"page":"/faq/[slug]","query":{"slug":"about-map"},"buildId":"FG51uet_XKpmqxkhBI8Kq","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>